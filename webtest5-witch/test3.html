<!DOCTYPE html>
<!-- saved from url=(0116)file:///C:/Users/songb/Desktop/%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%94%A8/web%E5%AE%9E%E9%AA%8C2/webtest5-witch/test3.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>女巫的魔药坩埚</title>

<style type="text/css">
    body{	      
		background-image:url("images/background01.png");
		margin: 0;
		padding: 0;
		min-height: 100vh;
        background-repeat:no-repeat;
		background-position: center;
		background-size: cover;
		background-attachment: fixed;
    }
    /* 标签大小保持不变 */
    .label{
	    width:120px;
		height: 110px;
		border: 16px solid rgba(228,193,140);
		background-color: rgb(252,232,201);
		color: rgb(154,91,53); 
		margin:30px ;
		position: relative; 
		z-index: 1; 
		display: flex; 
		justify-content: center;
		align-items: center; 
		font-size: 50px; 
		text-shadow: 0 2px 4px rgba(0,0,0,0.5); 
	    float: left;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    .label:hover{
        transform: scale(1.1);
        box-shadow: 0 0 15px 5px rgba(255, 215, 0, 0.7);
        z-index: 10;
    }
	/* 文字对话框布局保持不变 */
	.chat{
		width:65%;
		height: 20vh;
		border: 16px solid rgba(228,193,140);
		background-color: rgb(252,232,201);
		color: rgb(154,91,53); 
		display: flex;
		justify-content: center;
		font-size: 5vh;
		padding-top:50px;
		position: relative;
		margin-left: 1.5%;
		top: calc(100vh - 570px); 
		text-shadow: 0 2px 4px rgba(0,0,0,0.5);
	}
	/* 角色图像布局保持不变 */
	.character-container {
			position: fixed;
			right: 20px;  
			bottom: 20px;  
			z-index: 2;
			background-color: rgb(252,232,201);
		}
		.character-img {
			border: 20px solid rgba(228,193,140);
			width: 30vw;
			height:30vw;
		}

    /* 模态框基础样式 - 改为窗口一半大小并支持缩放 */
    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.5);
        z-index: 100;
        justify-content: center;
        align-items: center;
    }
    .modal-content {
        background-color: rgb(252,232,201);
        border: 16px solid rgba(228,193,140);
        padding: 30px;
        width: 50vw;  /* 窗口一半宽度 */
        max-width: 900px;
        height: 50vh;  /* 窗口一半高度 */
        max-height: 700px;
        border-radius: 10px;
        position: relative;
        color: rgb(154,91,53);
        overflow-y: auto;  /* 内容过长时滚动 */
        font-size: 1.5vw;  /* 字体随窗口缩放 */
        min-font-size: 16px; /* 最小字体大小 */
    }
    /* 模态框标题样式 - 随窗口缩放 */
    .modal-content h2 {
        font-size: 2.5vw;
        min-font-size: 24px;
        margin-top: 0;
    }
    .close-btn {
        position: absolute;
        top: 15px;
        right: 20px;
        font-size: 30px;
        cursor: pointer;
    }

    /* 背包特有样式修改 */
    .backpack-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);  /* 固定4列 */
        gap: 20px;
        margin-top: 20px;
        padding: 10px;
    }
    .item-slot {
        position: relative;
        width: 100%;  /* 占满网格宽度 */
        padding-top: 100%;  /* 正方形比例，随容器缩放 */
        cursor: pointer;
    }
    .item-thumbnail {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: contain;
        transition: all 0.3s ease;
    }
    .item-slot:hover .item-thumbnail {
        transform: scale(1.1);
        box-shadow: 0 0 15px 3px rgba(255, 215, 0, 0.8);
        border-radius: 5px;
    }
    .item-count {
        position: absolute;
        bottom: 5px;
        right: 5px;
        background-color: rgba(154,91,53, 0.8);
        color: white;
        font-size: 1.2vw;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    /* 物品名称显示在左上角 */
    .item-name {
        position: absolute;
        top: 5px;
        left: 5px;
        background-color: rgba(252,232,201, 0.9);
        color: rgb(154,91,53);
        font-size: 1vw;
        padding: 2px 6px;
        border-radius: 3px;
        font-weight: bold;
    }

    /* 物品详情模态框 */
    .item-detail-modal .modal-content {
        display: flex;
        gap: 30px;
        max-width: 800px;
        height: auto;  /* 详情框高度自适应 */
        max-height: 80vh;  /* 最大高度限制 */
    }
    .item-detail-img {
        width: 200px;
        height: 200px;
        object-fit: contain;
    }
    .item-detail-info {
        flex: 1;
    }
    .item-detail-name {
        font-size: 28px;
        margin-bottom: 15px;
        border-bottom: 2px solid rgba(154,91,53,0.5);
        padding-bottom: 10px;
    }
    .item-detail-desc {
        font-size: 18px;
        line-height: 1.6;
    }

    /* 塔罗牌堆图标 - 新增样式 */
    .tarot-deck {
        position: absolute;
        left: 10%;
        top: 45%;
        transform: translateX(-50%);
        width: 20vh;
        height: 20vh;
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 5;
    }
    .tarot-deck:hover {
        transform: translateX(-50%) scale(1.2);
        filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.8));
    }

    /* 塔罗牌抽取界面 - 修改样式以显示更多卡片 */
   /* 塔罗牌抽取界面 - 增大可见区域 */
   #tarot-modal .modal-content {
       width: 95vw;  /* 增加到95%视口宽度 */
       height: 85vh;  /* 增加到85%视口高度 */
       max-width: 1600px;
       max-height: 1000px;
       overflow: hidden;
       padding: 20px;  /* 减少内边距，为卡牌腾出更多空间 */
   }
    
   .tarot-container {
       width: 100%;
       height: 100%;
       display: flex;
       flex-direction: column;
       align-items: center;
       justify-content: center; /* 改为居中 */
       padding-top: 0; /* 移除顶部间距 */
   }
    
    
    .tarot-title {
        font-size: 2.5vw;
        margin-bottom: 40px;
        text-align: center;
        color: rgb(154,91,53);
        text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    
   .tarot-cards-container {
       width: 300%;
       height: 450px; /* 降低高度 */
	   left:10%
       overflow: hidden;
       position: relative;
       cursor: grab;
       display: flex;
       align-items: center; /* 垂直居中卡牌 */
       justify-content: center; /* 水平居中卡牌内容 */
   }
    
   .tarot-cards {
       display: flex;
       gap: 40px;
       height: auto;
       position: absolute;
       left: 50%; /* 改为50%居中 */
       transform: translateX(-50%); /* 使用transform实现居中 */
       transition: transform 0.4s ease;
       will-change: transform;
       align-items: center;
   }

   /* 塔罗牌卡片基础样式 - 修改为默认变暗 */
   .tarot-card {
       width: 200px;
       height: 300px;
       cursor: pointer;
       transition: all 0.3s ease;
       flex-shrink: 0;
       position: relative;
       margin-top: 0; /* 确保没有额外顶部间距 */
       filter: brightness(0.7); /* 默认变暗 */
       opacity: 0.8; /* 降低不透明度 */
   }
    
    /* 悬停在卡片上时恢复正常亮度 */
    .tarot-card:hover {
        transform: scale(1.2);  /* 增加悬停放大效果 */
        filter: brightness(1) drop-shadow(0 0 20px rgba(255, 215, 0, 0.9)); /* 恢复亮度并添加光晕 */
        opacity: 1; /* 恢复不透明度 */
        z-index: 10;
    }
    
    .tarot-card-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 12px;  /* 增加圆角 */
        border: 10px solid rgba(228,193,140,0.8);
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    
    /* 解牌界面样式 */
    .tarot-reading {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 30px;
        width: 100%;
        height: 100%;
    }
    
    .tarot-card-selected {
        width: 300px;
        height: 450px;
        box-shadow: 0 0 40px rgba(255, 215, 0, 0.8);
        border-radius: 15px;
        border: 15px solid rgba(228,193,140,0.9);
        filter: brightness(1); /* 选中卡片保持亮度 */
        opacity: 1;
    }
    
    .tarot-card-selected img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 8px;
    }
    
    .tarot-reading-info {
        text-align: center;
        max-width: 80%;
    }
    
    .tarot-card-name {
        font-size: 2.5vw;
        color: rgb(154,91,53);
        margin-bottom: 20px;
        text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    
    .tarot-card-meaning {
        font-size: 1.5vw;
        line-height: 1.6;
        color: rgb(154,91,53);
        background-color: rgba(252,232,201,0.9);
        padding: 25px;
        border-radius: 10px;
        border: 4px solid rgba(228,193,140,0.7);
    }
    
    .back-to-cards {
        position: absolute;
        bottom: 20px;
        right: 20px;
        background-color: rgb(154,91,53);
        color: white;
        border: none;
        padding: 12px 25px;
        font-size: 1.2vw;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .back-to-cards:hover {
        background-color: rgb(174,111,73);
        transform: scale(1.05);
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
</style>
</head>
<body>
 <!-- 塔罗牌堆图标 -->
 <img class="tarot-deck" src="./女巫的魔药坩埚_files/carddeck.png" alt="塔罗牌堆" id="tarot-deck">
 
 <div class="label" data-modal="attribute">属性</div>
 <div class="label" data-modal="backpack">背包</div>
 <div class="label" data-modal="hint">提示</div>
 <div class="label" data-modal="setting">设置</div>
 <div class="chat">接下来要干什么呢。。。。</div>
 <div class="character-container">
	 <img class="character-img" src="./女巫的魔药坩埚_files/character01.png">
 </div>

 <!-- 属性框 -->
 <div id="attribute-modal" class="modal">
    <div class="modal-content">
        <span class="close-btn">×</span>
        <h2>属性面板</h2>
        <p>这里是角色的属性信息</p>
        <ul>
            <li>魔法值: 100/100</li>
            <li>生命值: 80/80</li>
            <li>耐力值: 60/60</li>
            <li>等级: 1</li>
        </ul>
    </div>
 </div>

 <!-- 背包框 -->
 <div id="backpack-modal" class="modal">
    <div class="modal-content">
        <span class="close-btn">×</span>
        <h2>背包</h2>
        <div class="backpack-grid" id="backpack-grid">
            <!-- 背包物品会通过JS动态生成 -->
        <div class="item-slot">
            <span class="item-name">金粒</span>
            <img src="./女巫的魔药坩埚_files/PacksackGoods-1.png" alt="金粒" class="item-thumbnail" data-id="1">
            <span class="item-count">3</span>
        </div><div class="item-slot">
            <span class="item-name">银汤勺</span>
            <img src="./女巫的魔药坩埚_files/PacksackGoods-2.png" alt="银汤勺" class="item-thumbnail" data-id="2">
            <span class="item-count">1</span>
        </div><div class="item-slot">
            <span class="item-name">铜锭</span>
            <img src="./女巫的魔药坩埚_files/PacksackGoods-3.png" alt="铜锭" class="item-thumbnail" data-id="3">
            <span class="item-count">4</span>
        </div><div class="item-slot">
            <span class="item-name">月光露水</span>
            <img src="./女巫的魔药坩埚_files/PacksackGoods-4.png" alt="月光露水" class="item-thumbnail" data-id="4">
            <span class="item-count">999</span>
        </div></div>
    </div>
 </div>

 <!-- 提示框 -->
 <div id="hint-modal" class="modal">
    <div class="modal-content">
        <span class="close-btn">×</span>
        <h2>提示</h2>
        <p>当前任务：寻找制作治疗药水的材料</p>
        <p>提示：治疗药水需要曼德拉草和月光露水</p>
    </div>
 </div>

 <!-- 设置框 -->
 <div id="setting-modal" class="modal">
    <div class="modal-content">
        <span class="close-btn">×</span>
        <h2>设置</h2>
        <p>音量：<input type="range" min="0" max="100" value="80"></p>
        <p>画质：<select>
            <option>高</option>
            <option selected="">中</option>
            <option>低</option>
        </select></p>
        <p>音效：<input type="checkbox" checked=""> 开启</p>
    </div>
 </div>

 <!-- 物品详情模态框 -->
 <div id="item-detail-modal" class="modal item-detail-modal">
    <div class="modal-content">
        <span class="close-btn">×</span>
        <img class="item-detail-img" id="detail-img" src="file:///C:/Users/songb/Desktop/%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%94%A8/web%E5%AE%9E%E9%AA%8C2/webtest5-witch/test3.html" alt="物品图片">
        <div class="item-detail-info">
            <h3 class="item-detail-name" id="detail-name"></h3>
            <p class="item-detail-desc" id="detail-desc"></p>
        </div>
    </div>
 </div>

 <!-- 塔罗牌抽取界面 - 新增 -->
 <div id="tarot-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close-btn">×</span>
        <div class="tarot-container" id="tarot-container">
            <!-- 卡片选择界面 -->
            <div class="tarot-selection" id="tarot-selection" style="display: block;">
                <h2 class="tarot-title">选择一张塔罗牌</h2>
                <div class="tarot-cards-container" style="cursor: grab;">
                    <div class="tarot-cards" id="tarot-cards" style="width: 1400px; transform: translateX(-729px);">
                        <!-- 卡片将通过JS动态生成 -->
                    <div class="tarot-card">
            <img src="./女巫的魔药坩埚_files/cardback.png" alt="塔罗牌背" class="tarot-card-img" data-card-index="0">
        </div><div class="tarot-card">
            <img src="./女巫的魔药坩埚_files/cardback.png" alt="塔罗牌背" class="tarot-card-img" data-card-index="1">
        </div><div class="tarot-card">
            <img src="./女巫的魔药坩埚_files/cardback.png" alt="塔罗牌背" class="tarot-card-img" data-card-index="2">
        </div><div class="tarot-card">
            <img src="./女巫的魔药坩埚_files/cardback.png" alt="塔罗牌背" class="tarot-card-img" data-card-index="3">
        </div><div class="tarot-card">
            <img src="./女巫的魔药坩埚_files/cardback.png" alt="塔罗牌背" class="tarot-card-img" data-card-index="4">
        </div><div class="tarot-card">
            <img src="./女巫的魔药坩埚_files/cardback.png" alt="塔罗牌背" class="tarot-card-img" data-card-index="5">
        </div></div>
                </div>
            </div>
            <!-- 解牌界面 -->
            <div class="tarot-reading" id="tarot-reading" style="display: none;">
                <div class="tarot-card-selected">
                    <img id="selected-card-img" src="file:///C:/Users/songb/Desktop/%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%94%A8/web%E5%AE%9E%E9%AA%8C2/webtest5-witch/test3.html" alt="选中的塔罗牌">
                </div>
                <div class="tarot-reading-info">
                    <h3 class="tarot-card-name" id="tarot-card-name"></h3>
                    <p class="tarot-card-meaning" id="tarot-card-meaning"></p>
                </div>
                <button class="back-to-cards" id="back-to-cards">返回选牌</button>
            </div>
        </div>
    </div>
 </div>

 <script>
    // 物品数据
    const items = [
        {
            id: 1,
            name: "金粒",
            count: 3,
            description: "贵金属，拥有稳定的性质。价格昂贵，请谨慎取用！！"
        },
        {
            id: 2,
            name: "银汤勺",
            count: 1,
            description: "贵金属，与魔力拥有良好的相性，被广泛的应用在通灵，法器制作，魔药炼成等领域中。目前你的银耗材已见底，不得不拿出了这把勺子"
        },
        {
            id: 3,
            name: "铜锭",
            count: 4,
            description: "价格亲民的金属，但相比金银材料效果欠佳。智慧地取用它，也许可以大大节省成本！！"
        },
		{
		    id: 4,
		    name: "月光露水",
		    count: 999,
		    description: "你选中一个灵气充沛的满月之夜，特地收集的数瓶月光露水，大概可以保障接下来小半年的魔力媒介供应"
		}
    ];

    // 塔罗牌数据 - 新增
    const tarotCards = [
        {
            id: 1,
            name: "太阳",
            image: "tarot/card1.png",
            meaning: "太阳牌代表着成功、欢乐与活力。这张牌预示着光明的前途，你所追求的将会实现，充满了正能量和生命力。"
        },
        {
            id: 2,
            name: "月亮",
            image: "tarot/card2.png",
            meaning: "月亮牌象征着潜意识、梦境和直觉。它提醒你要注意隐藏的真相，可能会有一些不确定性，但也是灵性成长的机会。"
        },
        {
            id: 3,
            name: "星星",
            image: "tarot/card3.png",
            meaning: "星星牌代表着希望、灵感和指引。这张牌出现在黑暗中如同指路明灯，预示着新的可能性、创意和内心的平静。"
        },
        {
            id: 4,
            name: "力量",
            image: "tarot/card4.png",
            meaning: "力量牌象征着勇气、坚韧和内心的力量。它告诉你即使面对挑战，你也有足够的勇气和智慧去克服，真正的力量来自于内心。"
        },
        {
            id: 5,
            name: "节制",
            image: "tarot/card5.png",
            meaning: "节制牌代表着平衡、调和与耐心。这张牌提醒你要在生活中找到平衡点，通过调节不同的因素来达到和谐的状态。"
        },
        {
            id: 6,
            name: "命运之轮",
            image: "tarot/card6.png",
            meaning: "命运之轮象征着命运的转折、机遇与循环。这张牌预示着变化即将到来，无论是好是坏，都是生命循环中的一部分。"
        }
    ];

    // 生成背包物品 - 增加物品名称显示
    const backpackGrid = document.getElementById('backpack-grid');
    items.forEach(item => {
        const slot = document.createElement('div');
        slot.className = 'item-slot';
        slot.innerHTML = `
            <span class="item-name">${item.name}</span>
            <img src="packsack/PacksackGoods-${item.id}.png" 
                 alt="${item.name}" 
                 class="item-thumbnail"
                 data-id="${item.id}">
            <span class="item-count">${item.count}</span>
        `;
        backpackGrid.appendChild(slot);
    });

    // 生成塔罗牌 - 新增
    const tarotCardsContainer = document.getElementById('tarot-cards');
    // 创建6张牌背
    for (let i = 0; i < 6; i++) {
        const cardDiv = document.createElement('div');
        cardDiv.className = 'tarot-card';
        cardDiv.innerHTML = `
            <img src="tarot/cardback.png" alt="塔罗牌背" class="tarot-card-img" data-card-index="${i}">
        `;
        tarotCardsContainer.appendChild(cardDiv);
    }

    // 模态框控制
    const labels = document.querySelectorAll('.label');
    const modals = document.querySelectorAll('.modal');
    const closeBtns = document.querySelectorAll('.close-btn');
    const itemDetailModal = document.getElementById('item-detail-modal');
    const detailImg = document.getElementById('detail-img');
    const detailName = document.getElementById('detail-name');
    const detailDesc = document.getElementById('detail-desc');
    
    // 塔罗牌相关元素 - 新增
    const tarotDeck = document.getElementById('tarot-deck');
    const tarotModal = document.getElementById('tarot-modal');
    const tarotSelection = document.getElementById('tarot-selection');
    const tarotReading = document.getElementById('tarot-reading');
    const selectedCardImg = document.getElementById('selected-card-img');
    const tarotCardName = document.getElementById('tarot-card-name');
    const tarotCardMeaning = document.getElementById('tarot-card-meaning');
    const backToCardsBtn = document.getElementById('back-to-cards');

    // 标签点击显示对应模态框
    labels.forEach(label => {
        label.addEventListener('click', () => {
            const modalId = label.getAttribute('data-modal') + '-modal';
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'flex';
            }
        });
    });

    // 关闭按钮事件
    closeBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const modal = btn.closest('.modal');
            if (modal) {
                modal.style.display = 'none';
                // 如果是塔罗牌界面，重置到选牌界面
                if (modal.id === 'tarot-modal') {
                    tarotReading.style.display = 'none';
                    tarotSelection.style.display = 'block';
                }
            }
        });
    });

    // 点击外部关闭模态框
    window.addEventListener('click', (e) => {
        modals.forEach(modal => {
            if (e.target === modal) {
                modal.style.display = 'none';
                // 如果是塔罗牌界面，重置到选牌界面
                if (modal.id === 'tarot-modal') {
                    tarotReading.style.display = 'none';
                    tarotSelection.style.display = 'block';
                }
            }
        });
    });

    // 物品点击显示详情
    document.querySelectorAll('.item-thumbnail').forEach(thumb => {
        thumb.addEventListener('click', (e) => {
            e.stopPropagation(); // 防止事件冒泡关闭背包
            const itemId = parseInt(thumb.getAttribute('data-id'));
            const item = items.find(i => i.id === itemId);
            
            if (item) {
                detailImg.src = `packsack/PacksackGoods-${item.id}.png`;
                detailImg.alt = item.name;
                detailName.textContent = item.name;
                detailDesc.textContent = item.description;
                if (itemDetailModal) {
                    itemDetailModal.style.display = 'flex';
                }
            }
        });
    });

    // 塔罗牌堆点击事件 - 新增
    if (tarotDeck) {
        tarotDeck.addEventListener('click', () => {
            if (tarotModal) {
                tarotModal.style.display = 'flex';
            }
        });
    }

    // 塔罗牌点击事件 - 新增
    document.querySelectorAll('.tarot-card-img').forEach(card => {
        card.addEventListener('click', (e) => {
            // 随机选择一张塔罗牌
            const randomIndex = Math.floor(Math.random() * tarotCards.length);
            const selectedCard = tarotCards[randomIndex];
            
            // 更新解牌界面
            if (selectedCardImg) selectedCardImg.src = selectedCard.image;
            if (selectedCardImg) selectedCardImg.alt = selectedCard.name;
            if (tarotCardName) tarotCardName.textContent = selectedCard.name;
            if (tarotCardMeaning) tarotCardMeaning.textContent = selectedCard.meaning;
            
            // 切换到解牌界面
            if (tarotSelection && tarotReading) {
                tarotSelection.style.display = 'none';
                tarotReading.style.display = 'flex';
            }
        });
    });

    // 返回选牌按钮事件 - 新增
    if (backToCardsBtn) {
        backToCardsBtn.addEventListener('click', () => {
            if (tarotReading && tarotSelection) {
                tarotReading.style.display = 'none';
                tarotSelection.style.display = 'block';
            }
        });
    }

    // 塔罗牌水平滑动效果 - 修复版
    const tarotCardsElement = document.getElementById('tarot-cards');
    const cardsContainer = document.querySelector('.tarot-cards-container');
    
    if (tarotCardsElement && cardsContainer) {
        let isMouseDown = false;
        let startX;
        let currentTranslate = 0;
        let animationId = null;

        // 计算滑动限制
        const cardWidth = 200; // 卡牌宽度
        const cardGap = 40; // 卡牌间距
        const totalCards = document.querySelectorAll('.tarot-card').length;
        const totalWidth = totalCards * (cardWidth + cardGap) - cardGap;
        const containerWidth = cardsContainer.offsetWidth;
        const maxTranslate = 0; // 向右滑动限制
        const minTranslate = -(totalWidth - containerWidth); // 向左滑动限制

        tarotCardsElement.style.width = `${totalWidth}px`;
        
        // 确保初始位置居中显示
        const initialOffset = Math.min(0, -(totalWidth - containerWidth) / 2);
        currentTranslate = initialOffset;
        tarotCardsElement.style.transform = `translateX(${currentTranslate}px)`;

        // 鼠标按下事件
        cardsContainer.addEventListener('mousedown', (e) => {
            isMouseDown = true;
            cardsContainer.style.cursor = 'grabbing';
            startX = e.clientX;
            if (animationId) {
                cancelAnimationFrame(animationId);
            }
        });

        // 鼠标移动事件
        cardsContainer.addEventListener('mousemove', (e) => {
            if (!isMouseDown) return;
            e.preventDefault();
            
            const currentX = e.clientX;
            const walk = (currentX - startX) * 1; // 滑动系数
            
            // 应用边界限制
            currentTranslate = Math.min(maxTranslate, Math.max(minTranslate, currentTranslate + walk));
            tarotCardsElement.style.transform = `translateX(${currentTranslate}px)`;
            
            startX = currentX;
        });

        // 鼠标松开事件
        cardsContainer.addEventListener('mouseup', () => {
            isMouseDown = false;
            cardsContainer.style.cursor = 'grab';
        });

        // 鼠标离开事件
        cardsContainer.addEventListener('mouseleave', () => {
            if (isMouseDown) {
                isMouseDown = false;
                cardsContainer.style.cursor = 'grab';
            }
        });

        // 鼠标进入时设置抓取光标
        cardsContainer.addEventListener('mouseenter', () => {
            if (!isMouseDown) {
                cardsContainer.style.cursor = 'grab';
            }
        });
    }
    
    // 添加塔罗牌悬停效果 - 让鼠标悬停的卡片变亮
    document.querySelectorAll('.tarot-card').forEach(card => {
        card.addEventListener('mouseenter', () => {
            // 当鼠标进入卡片时，卡片会变亮
            // 这个效果已经在CSS中通过:hover选择器实现了
        });
        
        card.addEventListener('mouseleave', () => {
            // 当鼠标离开卡片时，卡片恢复变暗
            // 这个效果已经在CSS中通过默认样式实现了
        });
    });
 </script>
</body></html>